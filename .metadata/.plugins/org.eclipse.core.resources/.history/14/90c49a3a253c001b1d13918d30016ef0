package CodingTest;

import java.util.ArrayList;
import java.util.HashMap;

public class 현카하3 {
	public static void main(String[] args) {
		System.out.println(solution(new String[] {"[403]James", "[404]Azad,Louis,Andy", "[101]Azad,Guard"}, 403));
	}
	public static String[] solution(String[] rooms, int target) {
		String[] answer = {};
		
		class PositionData{
			String name;
			ArrayList<Integer> positions;
			int minDistPosition;
			public PositionData() {
				this.name = "";
				this.positions = new ArrayList<Integer>();
				this.minDistPosition = Integer.MAX_VALUE;
			}
		}
		HashMap<String,PositionData> map = new HashMap<String,PositionData>();
		
		for(int room=0;room<rooms.length;room++) {
			String data = rooms[room];
			String[] token = data.split(",");
			int roomNumber = 0;
			String roomNumber_string = "";
			String name = "";

			boolean nameFlag = false;
		
			for(int j=0;j<token.length;j++) {
				if(j==0) {
					for(int i=0;i<token[0].length();i++) {
						if(nameFlag) name+=token[0].charAt(i);
						else if(token[0].charAt(i)>='0' && token[0].charAt(i)<='9') {
							roomNumber_string+=token[0].charAt(i);
						}else if(token[0].charAt(i)==']') {
							nameFlag = true;
						}
					}
					roomNumber = Integer.parseInt(roomNumber_string);
				}
				else {
					name= token[j];
				}
				if(roomNumber==target) continue;
				
				if(map.containsKey(name)) {
					PositionData positionData = map.get(name);
					positionData.positions.add(roomNumber);
				}else {
					PositionData positionData = new PositionData();
					positionData.name = name;
					positionData.positions.add(roomNumber);
					map.put(name,new PositionData());	
				}
			}
		}
		return answer;
	}
}
