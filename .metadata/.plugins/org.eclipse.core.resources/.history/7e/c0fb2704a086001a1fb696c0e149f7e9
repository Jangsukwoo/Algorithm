package CodingTest;

import java.util.ArrayList;
import java.util.HashMap;


/*
 * 현카
 *  사이버코딩
 *  정당한 참가자수 구하기
 */
public class Cybercoding {
	static boolean[] check;
	static HashMap<String,Integer> ipmap;
	public static void main(String[] args) {
		int answer = solution(new String[] {"7.124.10.0", "7.124.10.0", "0.0.0.0", "7.124.10.0", "0.0.0.0", "7.124.10.0"}
		,new String[] {"C++", "Java", "C#", "C#", "C", "Python3"}
		, new int[] {314, 225, 45, 0, 155, 400});
		System.out.println(answer);
	}
    public static int solution(String[] ip_addrs, String[] langs, int[] scores) {
    	check = new boolean[ip_addrs.length];
    	ipmap = new HashMap<String,Integer>();
    	for(int i=0;i<ip_addrs.length;i++) {
    		if(!ipmap.containsKey(ip_addrs[i])) {
    			ipmap.put(ip_addrs[i],1);
    		}else {
    			int value = ipmap.get(ip_addrs[i]);
    			ipmap.put(ip_addrs[i],value+1);
    		}
    	}
    	
    	for(int i=0;i<ip_addrs.length;i++){
    		int value = ipmap.get(ip_addrs[i]);
    		if(value>=4) {
				System.out.println("부정 아이피");
				System.out.println(ip_addrs[i]);
    			check[i] = true;//부정
    		}
    	}
    	for(int i=0;i<ip_addrs.length;i++){ //3개 같으면
    		int value = ipmap.get(ip_addrs[i]);
    		if(value==3 && check[i]==false){
    			String currentIP = ip_addrs[i];
    			String currentLang = langs[i];
    			ArrayList<String> langlist =  new ArrayList<String>();
    			langlist.add(langs[i]);
    			for(int j=0;j<ip_addrs.length;j++){
    				if(i!=j && ip_addrs[j]==currentIP){
    					langlist.add(langs[j]);
    				}
    			}
    			boolean flag=true;
    			if(currentLang.contains("C")){//c언어면
    				for(String date : langlist){
    					if(date.contains("C")) continue;
    					else {
    						flag = false;
    						break;
    					}
    				}
    				if(flag){//부정이면
    		   			for(int j=0;j<ip_addrs.length;j++){
    	    				if(ip_addrs[j]==currentIP){
    	    					check[j] = true;
    	    				}
    	    			}
    				}
    			}else {
    				if(langlist.get(0)== langlist.get(1) && langlist.get(0) == langlist.get(2)) {
    		   			for(int j=0;j<ip_addrs.length;j++){
    	    				if(ip_addrs[j]==currentIP){
    	    					check[j] = true;
    	    				}
    	    			}
    				}
    			}
    		}
    	}
    	
    	for(int i=0;i<ip_addrs.length;i++){ //2개 같으면
    		int value = ipmap.get(ip_addrs[i]);
    		int a=0;
    		int b=0;
    		if(value==2 && check[i]==false){
    			System.out.println("두갠데");
    			a=i;
    			String currentIP = ip_addrs[i];
    			String currentLang = langs[i];
    			ArrayList<String> langlist =  new ArrayList<String>();
    			langlist.add(langs[i]);
    			for(int j=0;j<ip_addrs.length;j++){
    				if(i!=j && ip_addrs[j]==currentIP){
    					j = b;
    					langlist.add(langs[j]);
    					break;
    				}
    			}
    			boolean flag=true;
    			if(currentLang.contains("C")){//c언어면
    				for(String date : langlist){
    					if(date.contains("C")) continue;
    					else {
    						flag = false;
    						break;
    					}
    				}
    				if(flag){//같은 언어면서
    					if(scores[a]==scores[b]) {
    						check[a] = true;
    						check[b] = true;
    					}else {
    						System.out.println("성적은다름");
    					}
    				}
    			}else { 
    				if(langlist.get(0)== langlist.get(1)) {//언어가 같으면
       					if(scores[a]==scores[b]) {
    						check[a] = true;
    						check[b] = true;
    					}
    				}
    			}
    		}
    	}
    	int answer=0;
    	for(int i=0;i<ip_addrs.length;i++) {
    		if(check[i]==false) {
    			System.out.println("정당한 아이피 번호"+ip_addrs[i]);
    			answer++;
    		}
    		
    	}
        return answer;
    }
}
