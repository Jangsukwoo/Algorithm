package CodingAcademy;

import java.util.Arrays;

/*
 * Heap Sort(nlogn)
 */
public class 변리사_3번 {
	public static void main(String[] args) {
		int[] data = new int[] {0,9,8,7,6,5,4,3,2,1};
		int[] data2 = new int[] {0,9,2,3,4,5,6,7,8,1};
		int[] data3 = new int[] {0,9,8,2,8,3,7,4,6,5};
		int size = data.length;
		AAASort(data,size);
	}

	private static void AAASort(int[] a, int size){
		System.out.println("받은 배열");
		System.out.println(Arrays.toString(a));
		int n = size-1;
		int temp=0;
		for(int i = n/2; i>=2 ;i--) {// heap 구성
			BBB(a,i,n);
			System.out.println(Arrays.toString(a));
		}
		System.out.println("힙정렬시작");
		System.out.println(Arrays.toString(a));
		for(int i=n;i>=2;i--) {
			System.out.println("힙구조만들기전");
			BBB(a,1,i-1);
			System.out.println("힙구조 만들고");
			temp = a[1];
			/*
			 * To write pseudo code
			 */
			a[1] = a[i];
			a[i] = temp;
			System.out.println("스왑");
			System.out.println(Arrays.toString(a));
		}
		
	}

	private static void BBB(int[] a, int h, int m) {
		int imsi = a[h];
		int j = 0;
		for(j=2*h;j<=m;j*=2){ //위치 찾기
			if(j<m) {
				if(a[j]<a[j+1]) {
					j+=1;
				}
			}
			if(imsi>=a[j]) break;
			else {
				/*
				 * To write pseudo code
				 */
				a[h]=a[j];
				//h=j;
			}
		}
		a[j/2]=imsi;
	}
}
