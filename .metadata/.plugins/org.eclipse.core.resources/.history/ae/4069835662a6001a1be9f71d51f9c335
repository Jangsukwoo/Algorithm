package 공채대비;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.util.HashSet;
import java.util.StringTokenizer;
/*
 * 12:30~
1
8
8 7 6 5 4 3 2 1 

1
7
7 6 7 6 6 7 3

1
6
2 3 4 5 6 2
왜 답이 5?
 */
public class 텀프로젝트 {
	static int[] students;
	static int N;
	static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
	static StringTokenizer st;
	static boolean[] visit;
	static boolean[] noncycle;
	static int answer;
	static int team;
	static int start;
	static boolean newFlag;
	static HashSet<Integer> set;
	public static void main(String[] args) throws IOException {
		int T = Integer.parseInt(br.readLine());
		for(int testcase=1;testcase<=T;testcase++) {
			setData();
			logic();
			System.out.println(answer);
		}
	}
	private static void logic() {
		for(int i=1;i<=N;i++){
			if(visit[i]==false && noncycle[i]==false){
				set = new HashSet<Integer>();
				dfs(i);
			}
		}
	}
/*
1
7
3 1 3 7 3 4 6

1
7
7 6 7 6 6 7 3

1
6
2 3 4 5 6 2

1
7
3 1 3 7 3 4 6
	 */
	private static boolean dfs(int num){
		noncycle[num] = true;
		if(num==students[num]){//타고 오다가 자기 자신인친구 발견
			visit[num]=true;
			return false;
		}
		if(visit[students[num]] || visit[num]) {
			return false;
		}
		if(set.contains(students[num])){
			visit[num] = true;
			start = students[num];
			System.out.println(start);
			return true;
		}
		set.add(num);
		
		if(dfs(students[num])) {
			visit[num] = true;
		}else {
			noncycle[num] = true;
		}
		if(num==start) {
			visit[num] = true;
			return false;
		}
		return false;
		
	}
	private static void setData() throws NumberFormatException, IOException {
		N = Integer.parseInt(br.readLine());
		students = new int[N+1];
		visit = new boolean[N+1];
		noncycle = new boolean[N+1];
		st = new StringTokenizer(br.readLine());
		for(int i=1;i<=N;i++) students[i] = Integer.parseInt(st.nextToken());
		answer;
	}
}







// 2 3 4 5 6 7 4
