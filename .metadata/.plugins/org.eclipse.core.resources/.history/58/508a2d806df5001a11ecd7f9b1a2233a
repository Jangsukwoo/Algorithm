import java.util.Deque;
import java.util.LinkedList;

class Îùº2 {
	static Deque<Integer> dq = new LinkedList<Integer>();
	public int[] solution(int[] ball, int[] order) {
		int[] answer = new int[ball.length];
		Deque<Integer> de = new LinkedList<>();

		for (int i = 0; i < ball.length; i++) {
			de.offer(ball[i]);
		}
		int x = 0;
		int k = 0;
		while (!de.isEmpty()) {

			int chck = order[x];
			if (de.peekFirst() == chck) {
				answer[k] = chck;
				de.pollFirst();
				order[x] = 0;
				x = 0;
				k++;
			} else if (de.peekLast() == chck) {
				order[x] = 0;
				answer[k] = chck;
				de.pollLast();
				x = 0;
				k++;

			} else {
				x++;
			}

		}
		return answer;
	}
	public static void main(String[] args) {

	}
}