package CodingStudy;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;
/*
 * 11:30 시작
 * 
 * - 면
 * 윗 : U
 * 아래 : D
 * 앞 : F
 * 뒤 : B
 * 왼 : L
 * 오 : R
 * 
 * - 색
 * w:흰
 * y:노
 * r:빨
 * o:오
 * g:초
 * b:파
 * 
 * -방향
 * +:시계
 * -:반시계
 */
public class 큐빙 {
	static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
	static StringTokenizer st;
	static int N;
	static char[][] cube = new char[12][9];//전개도
	public static void main(String[] args) throws NumberFormatException, IOException {
		int T = Integer.parseInt(br.readLine());
		for(int testcase=1;testcase<=T;testcase++){
			cubeInitailize();
			rotate();
			view();
		}
	}

	private static void rotate() throws NumberFormatException, IOException {
		int rotateSize = Integer.parseInt(br.readLine());
		char[][] command = new char[rotateSize][2];
		st = new StringTokenizer(br.readLine());
		for(int rotate=0;rotate<rotateSize;rotate++){
			command[rotate] = st.nextToken().toCharArray();
			spin(command[rotate]);
		}
	}
	private static void spin(char[] command) {
		char face = command[0];
		char clockwise = command[1];
		switch (face){//각 면에 대해 시계방향, 반시계방향 회전 처리
		case 'U':
			if(clockwise=='+') upClockWise();
			else if(clockwise=='-') upCounterClockWise();
			break;
		case 'F':
			if(clockwise=='+') frontClockWise();
			else if(clockwise=='-') frontCounterClockWise();
			break;
		case 'D':
			if(clockwise=='+') downClockWise();
			else if(clockwise=='-') downCounterClockWise();
			break;
		case 'B':
			if(clockwise=='+') backClockWise();
			else if(clockwise=='-') backCounterClockWise();
			break;
		case 'L':
			if(clockwise=='+') leftClockWise();
			else if(clockwise=='-') leftCounterClockWise();
			break;
		case 'R':
			if(clockwise=='+') rightClockWise();
			else if(clockwise=='-') rightCounterClockWise();
			break;
		}
	}

	private static void upClockWise() {
		char[][] copyCube = copyCube();
		for(int row=0;row<3;row++) {
			for(int col=3;col<6;col++) {
				cube[row][col] = copyCube[5-col][row+3]; 
			}
		} //면 90도 회전 
	}

	private static void upCounterClockWise() {
		
	}

	private static void frontClockWise() {
	}

	private static void frontCounterClockWise() {
		
	}

	private static void downClockWise() {
		
	}

	private static void downCounterClockWise() {
		
	}

	private static void backClockWise() {
		
	}

	private static void backCounterClockWise() {
		
	}

	private static void leftClockWise() {
		
	}

	private static void leftCounterClockWise() {
		
	}

	private static void rightClockWise() {
		
	}

	private static void rightCounterClockWise() {

	}

	private static void cubeInitailize(){
		//큐브 초기화
		for(int row=0;row<=2;row++) {
			for(int col=3;col<=5;col++) {
				cube[row][col]='w';
			}
		}//면,흰
		for(int row=3;row<=5;row++) {
			for(int col=0;col<=2;col++){
				cube[row][col]='g';
			}
		}//왼쪽,초
		for(int row=3;row<=5;row++) {
			for(int col=3;col<=5;col++){
				cube[row][col]='r';
			}
		}//앞,빨
		for(int row=3;row<=5;row++) {
			for(int col=6;col<=8;col++){
				cube[row][col]='b';
			}
		}//아래,노
		for(int row=6;row<=8;row++) {
			for(int col=3;col<=5;col++){
				cube[row][col]='y';
			}
		}//뒤,오
		for(int row=9;row<=11;row++) {
			for(int col=3;col<=5;col++){
				cube[row][col]='o';
			}
		}//오른쪽,파
	}
	private static char[][] copyCube() {
		char[][] copyCube = new char[12][9];
		for(int row=0;row<12;row++) {
			for(int col=0;col<9;col++){
				copyCube[row][col] = cube[row][col];
			}
		}
		return copyCube;
	}
	private static void view(){
		//큐브 전개도
		for(int row=0;row<12;row++) {
			for(int col=0;col<9;col++) {
				System.out.print(cube[row][col]);
			}
			System.out.println();
		}
		System.out.println();
	}
}
