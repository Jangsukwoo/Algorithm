package 공채대비;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashSet;
import java.util.StringTokenizer;



/*
 * +,-,*,/
 * 
1
5
2 1 0 1
3 5 3 7 9

1
6
4 1 0 0 
1 2 3 4 5 6

1
5
1 1 1 1
9 9 9 9 9 
 */
public class 숫자만들기 {
	static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
	static StringTokenizer st;
	static int N;
	static int[] operatorCnt;
	static int[] numbers;
	static int[] values;
	static boolean[] visit;
	static int max = Integer.MIN_VALUE;
	static int min = Integer.MAX_VALUE;
	static HashSet<String> set;
	static String operator = "";
	public static void main(String[] args) throws NumberFormatException, IOException{
		int T = Integer.parseInt(br.readLine());
		for(int testcase=1;testcase<=T;testcase++){
			setData();
			nPr(0,"");
			System.out.println("#"+testcase+" "+(max-min));
		}
	}
	private static void nPr(int depth, String oper) {
		if(depth==(N-1)){
			copy();
			System.out.println(oper);
			calculator(oper);
			return;
		}
		for(int i=0;i<(N-1);i++) {
			if(visit[i]==false){
				visit[i] = true;
				nPr(depth+1,oper+operator.charAt(i));
				visit[i] = false;
			}
		}
	}
	private static void copy() {
		values = new int[N];
		for(int i=0;i<N;i++) values[i] = numbers[i];
		
	}
	private static void calculator(String oper){
		int result =0;
		String st = "";
		for(int i=0;i<(N-1);i++){
			int leftValue = values[i];
			int rightValue = values[i+1];
			switch (oper.charAt(i)){
			case '+':
				result = leftValue+rightValue;
				break;
			case '-':
				result = leftValue-rightValue;
				break;
			case '*':
				result = leftValue*rightValue;
				break;
			case '/':
				result = leftValue/rightValue;
				break;
			}
			values[i+1] = result;
		}
		result = values[N-1];
		max = Math.max(result,max);
		min = Math.min(result,min);
	}
	private static void setData() throws NumberFormatException, IOException {
		N = Integer.parseInt(br.readLine());
		operatorCnt = new int[4];
		set= new HashSet<String>();
		operator ="";
		numbers = new int[N];
		visit = new boolean[N-1];
		max = Integer.MIN_VALUE;
		min = Integer.MAX_VALUE;
		st = new StringTokenizer(br.readLine());
		
		for(int i=0;i<4;i++) operatorCnt[i] = Integer.parseInt(st.nextToken());
		
		st = new StringTokenizer(br.readLine());
		for(int i=0;i<N;i++) {
			numbers[i] = Integer.parseInt(st.nextToken());
		}
		for(int i=0;i<4;i++) {
			for(int j=0;j<operatorCnt[i];j++) {
				switch (i) {
				case 0:
					operator+="+";
					break;
				case 1:
					operator+="-";
					break;
				case 2:
					operator+="*";
					break;
				case 3:
					operator+="/";
					break;
				}
			}
		}
	}
}
