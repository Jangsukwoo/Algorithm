package CodingStudySamsungProblem;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

/*
 * 구역의 개수 N (1<=N<=10)
 * 1<=각 구역의 인구수<=100
 * 
 * 구역을 두 구역으로 나누고 그 두 역의 인구 수의 차이의 가장 최소값을 뽑아낸다.
 * 단, 구역의 정의:서로 인접해있어야한다.
 * 
 * 모든 가능한 경우의 수 
 * nC1, nC2, nC3......nCn-1 인데
 * nCn-1로 뽑은 경우의 수나 nC1로 뽑은 경우의 수가 같으니
 * nC(n/2)만큼 봐도 되지않을까??
 */
public class 게리맨더링 {
	static int N; //combination n
	static int R; //combination r
	static int[] areaPeople;
	static int minPeopleGap = Integer.MAX_VALUE;
	static boolean[] pick;
	static int[] pickArray;
	static ArrayList<ArrayList<Integer>> adjList = new ArrayList<ArrayList<Integer>>();
	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine());
		N = Integer.parseInt(st.nextToken());
		areaPeople = new int[N+1]; //각 구역의 인구 정보
		st = new StringTokenizer(br.readLine());
		for(int area=1;area<=N;area++) areaPeople[area] = Integer.parseInt(st.nextToken()); 
		for(int area=0;area<=N;area++) adjList.add(new ArrayList<Integer>());
		for(int area=1;area<=N;area++) {
			st = new StringTokenizer(br.readLine());
			int adjSize = Integer.parseInt(st.nextToken());
			for(int areaNum=1;areaNum<=adjSize;areaNum++) adjList.get(areaNum).add(Integer.parseInt(st.nextToken()));			
		}
		
		for(int r=1;r<=(N/2);r++){
			R=r;
			pickArray = new int[R];
			pick = new boolean[N+1];
			nCr(0,1);
		}//nC1, nC2, nC3 ......... nC(n/2)
		
	}
	private static void nCr(int depth, int idx){
		if(depth==R){
			return;
		}
		for(int i=idx;i<=N;i++) {
			if(pick[i]==false) {
				pickArray[depth] = i;
				pick[i] = true;
				nCr(depth+1,i+1);
				pick[i] = false;
			}
		}
	}
}
